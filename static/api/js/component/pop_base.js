window._bd_share_main.F.module("component/pop_base",function(e,t,n){var i=e("base/tangram").T,a=e("conf/const"),r=e("base/class").Class;t.PopBase=r.create(function(t){function n(t){if(o(t))return t;if(0<c._actBtnSet.maxDomDepth)for(var e=c._actBtnSet.maxDomDepth,n=0,a=i(t).parent().get(0),r=c.entities;n<e;){if(o(a))return a;if(a=i(a).parent().get(0),i.array(r).contains(a)||a==document.body)break;n++}return null}function o(t){var e=c._actBtnSet;return!(!t||!t.tagName||!e.className&&!e.tagName)&&((!e.className||i(t).hasClass(e.className))&&(!e.tagName||t.tagName.toLowerCase()==e.tagName.toLowerCase())&&i(t).attr(e.cmdAttr))}var c=this;c._container=null,c._actBtnSet={className:"",tagName:"a",maxDomDepth:0,cmdAttr:a.CMD_ATTR},c._partners=e("component/partners").partners,c._partnerSort=e("component/partners").partnerSort,c._poptype=-1,c.show=function(t,e){window._bd_share_main.F.use("share_popup.css",function(){c._show(t,e)})},c.hide=function(){c._hide(),c.un()},c.init=function(){var t;c._init(),t=c._container,i(t).click(function(t){var e=n((t=i.event(t||window.event)).target);e&&(t.preventDefault(),c.fire("clickact",{cmd:i(e).attr(c._actBtnSet.cmdAttr),element:e,event:t,buttonType:c._poptype}))}).mouseover(function(t){var e=n(t.target);c.fire("mouseenter",{element:e,event:t}),"more"==i(e).attr("data-cmd")&&c.fire("moreover",{element:e,event:t})})},c._init=function(){},c._show=function(){},c._hide=function(){}})});